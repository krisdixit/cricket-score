<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Cricket Score</title>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            height: 100%;
            overflow: hidden;
        }
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>
    <iframe id="scorecard"></iframe>
    
    <script>
        // Get parameters
        const urlParams = new URLSearchParams(window.location.search);
        const matchId = urlParams.get('matchId') || '5732';
        const clubId = urlParams.get('clubId') || '8936';
        const cricclubsUrl = `https://cricclubs.com/CricClubsLive.do?matchId=${matchId}&clubId=${clubId}`;
        
        document.getElementById('scorecard').src = cricclubsUrl;
        
        // Request Wake Lock to keep CPU active even with screen off
        let wakeLock = null;
        
        async function requestWakeLock() {
            try {
                wakeLock = await navigator.wakeLock.request('screen');
                console.log('Wake Lock acquired');
                
                wakeLock.addEventListener('release', () => {
                    console.log('Wake Lock released');
                });
            } catch (err) {
                console.error('Wake Lock error:', err);
            }
        }
        
        // Request wake lock
        requestWakeLock();
        
        // Refresh iframe every 10 seconds
        setInterval(function() {
            const iframe = document.getElementById('scorecard');
            iframe.src = iframe.src;
        }, 10000);
        
        // Re-request wake lock if page becomes visible again
        document.addEventListener('visibilitychange', () => {
            if (wakeLock !== null && document.visibilityState === 'visible') {
                requestWakeLock();
            }
        });
    </script>
</body>
</html>
